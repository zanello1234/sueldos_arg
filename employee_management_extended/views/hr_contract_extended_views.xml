<odoo>
    <!-- Define the action -->
    <record id="action_hr_salary" model="ir.actions.act_window">
        <field name="name">Salaries</field>
        <field name="res_model">hr.salary</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('category_id', '=', context.get('employee_cct'))]</field>
        <field name="context">{'employee_cct': active_id}</field>
    </record>

    <!-- Definición de la acción Attach Alta Temprana -->
    <record id="action_attach_alta_temprana" model="ir.actions.server">
        <field name="name">Attach Alta Temprana</field>
        <field name="model_id" ref="hr_contract.model_hr_contract"/>
        <field name="binding_model_id" ref="hr_contract.model_hr_contract"/>
        <field name="state">code</field>
        <field name="code">
            <!-- Código Python para la acción -->
            action = {
                'type': 'ir.actions.act_window',
                'name': 'Attach Alta Temprana',
                'res_model': 'hr.contract',
                'view_type': 'form',
                'view_mode': 'form',
                'target': 'new',
            }
        </field>
    </record>

    <!-- Definición de la vista -->
    <record id="hr_contract_view_form_inherit_alta_temprana" model="ir.ui.view">
        <field name="name">hr.contract.view.form.inherit.alta.temprana</field>
        <field name="model">hr.contract</field>
        <field name="inherit_id" ref="hr_contract.hr_contract_view_form"/>
        <field name="arch" type="xml">
            <notebook position="inside">
                <page string="Alta Temprana" name="alta_temprana">
                    <group>
                        <group>
                            <field name="fecha_ingreso"/>
                            <field name="modalidad"/>
                            <field name="clave"/>
                        </group>
                        <group>
                            <field name="presentacion"/>
                            <field name="tipo_servicio"/>
                            <field name="art"/>
                        </group>
                        <!-- Nuevos campos -->
                        <group>
                            <field name="comprobante_alta_temprana" filename="comprobante_alta_temprana_filename"/>
                            <field name="comprobante_alta_temprana_filename" invisible="1"/>
                        </group>
                        <group>
                            <field name="employee_cct" readonly="1"/>
                            <field name="categoria_id" domain="[('cct_id', '=', employee_cct)]"/>
                        </group>
                    </group>
                </page>
                <page string="Informes Médicos" name="informes_medicos">
                    <group>
                        <group string="Informe Preocupacional">
                            <field name="fecha_preocupacional"/>
                            <field name="informe_preocupacional" filename="informe_preocupacional_filename"/>
                            <field name="informe_preocupacional_filename" invisible="1"/>
                        </group>
                        <group string="Informe Posocupacional">
                            <field name="fecha_posocupacional"/>
                            <field name="informe_posocupacional" filename="informe_posocupacional_filename"/>
                            <field name="informe_posocupacional_filename" invisible="1"/>
                        </group>
                    </group>
                </page>
            </notebook>
            <!-- Añadir botones al encabezado -->
            <header>
                <button name="%(action_hr_salary)d" string="Salaries" type="action" class="btn-primary"/>
                <button name="%(employee_management_extended.action_salary_update_wizard)d" 
                    string="Actualizar Salario" 
                    type="action" 
                    class="btn-secondary"/>
            </header>
        </field>
    </record>
</odoo>
